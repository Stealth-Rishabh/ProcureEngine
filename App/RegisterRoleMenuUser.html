<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Sourcing Portal</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta content="" name="description" />
    <meta content="" name="author" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all"
          rel="stylesheet" type="text/css" />
    <link href="assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet"
          type="text/css" />
    <link href="assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet"
          type="text/css" />
    <link href="assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet"
          type="text/css" />
    <link href="assets/global/plugins/uniform/css/uniform.default.css" rel="stylesheet"
          type="text/css" />
    <link href="assets/global/plugins/bootstrap-toastr/toastr.css" rel="stylesheet" />
    <link href="assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css"
          rel="stylesheet" type="text/css" />
    <link href="assets/global/plugins/icheck/skins/all.css" rel="stylesheet" type="text/css" />
    <link href="assets/global/plugins/jstree/dist/themes/default/style.min.css" rel="stylesheet" type="text/css" />
    <link href="assets/global/plugins/gritter/css/jquery.gritter.css" rel="stylesheet" type="text/css" />
    <!--<link rel="stylesheet" type="text/css" href="assets/global/plugins/select2/select2.css" />-->

    <link href="assets/global/css/components.css" rel="stylesheet" type="text/css" />
    <link href="assets/global/css/plugins.css" rel="stylesheet" type="text/css" />
    <link href="assets/admin/layout/css/layout.css" rel="stylesheet" type="text/css" />
    <link id="style_color" href="assets/admin/layout/css/themes/default.css" rel="stylesheet"
          type="text/css" />
    <link href="assets/admin/layout/css/custom.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" type="text/css" href="assets/global/plugins/clockface/css/clockface.css" />
    <link rel="stylesheet" type="text/css" href="assets/global/plugins/bootstrap-datepicker/css/datepicker3.css" />
    <link rel="stylesheet" type="text/css" href="assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css" />
    <link rel="stylesheet" type="text/css" href="assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css" />
    <link rel="stylesheet" type="text/css" href="assets/global/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css" />
    <link rel="stylesheet" type="text/css" href="assets/global/plugins/bootstrap-datetimepicker/css/datetimepicker.css" />
    <link rel="shortcut icon" href="../favicon.ico" />
    <script src="assets/global/plugins/jquery-1.11.0.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/jquery-ui/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>

    <script type="text/javascript" src="assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js"></script>
    <script type="text/javascript" src="assets/global/plugins/clockface/js/clockface.js"></script>
    <script type="text/javascript" src="assets/global/plugins/bootstrap-daterangepicker/moment.min.js"></script>
    <script type="text/javascript" src="assets/global/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
    <script type="text/javascript" src="assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
    <script src="assets/admin/pages/scripts/components-pickers.js"></script>
    <script src="assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-toastr/toastr.min.js"></script>
    <script src="assets/global/plugins/gritter/js/jquery.gritter.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="assets/global/plugins/jquery-validation/js/jquery.validate.min.js"></script>
    <script type="text/javascript" src="assets/global/plugins/bootstrap-wizard/jquery.bootstrap.wizard.min.js"></script>
    <script src="assets/global/scripts/metronic.js" type="text/javascript"></script>
    <script src="assets_1/global/scripts/app.min.js" type="text/javascript"></script>
    <script src="assets/admin/layout/scripts/layout.js" type="text/javascript"></script>
    <script src="assets/global/plugins/bootbox/bootbox.min.js" type="text/javascript"></script>
    <script src="assets/scripts/aes.js"></script>
    <script src="assets/CustomJS/TypeaHead.js"></script>
    <script src="assets/CustomJS/Common.js"></script>
</head>
<body class="page-header-fixed page-quick-sidebar-over-content page-sidebar-closed">
    <div class="page-header navbar navbar-fixed-top">
        <div class="page-header-inner">
            <div class="page-logo">
                <a class="navbar-brand" href="index.html" style="padding:4px !important;">
                    <img src="assets/img/mmlogo.png" alt="logo" class="img-responsive" style="height:38px; width:180px;" />
                </a>
                <!--<a href="index.html">
                    <img src="assets/img/logo.png" alt="logo" class="logo-default" />
                </a>
                <div class="menu-toggler sidebar-toggler hide">
                </div>-->
            </div>
            <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse">
            </a>
            <div class="top-menu">
                <ul class="nav navbar-nav pull-right">
                    <li class="dropdown dropdown-user">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"
                           data-hover="dropdown" data-close-others="true">
                            <!--<img alt="" class="img-circle hide1" src="assets/admin/layout/img/avatar3_small.jpg" />-->
                            <span id="spanUserName" style="font-weight: bold" class="username username-hide-on-mobile">
                            </span><i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="MyProfile.html"><i class="icon-user"></i>My Profile </a></li>
                            <li><a href="javascript:;" id="logOut_btn"><i class="fa fa-key"></i>Log Out </a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="clearfix">
    </div>
    <div class="page-container" style="display:none">
        <!-- BEGIN SIDEBAR -->
        <div class="page-sidebar-wrapper">
            <div class="page-sidebar navbar-collapse collapse">
                <ul class="page-sidebar-menu page-sidebar-menu-closed" data-auto-scroll="true" data-slide-speed="200" id="ulMain">
                    <li class="sidebar-toggler-wrapper">
                        <div class="sidebar-toggler hidden-phone">
                        </div>
                    </li>
                    <br />
                </ul>
            </div>
        </div>
        <div class="page-content-wrapper">
            <div class="page-content">
                <div class="modal fade" id="portlet-config" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                <h4 class="modal-title">
                                    Modal title
                                </h4>
                            </div>
                            <div class="modal-body">
                                Widget settings form goes here
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn yellow">
                                    Save changes
                                </button>
                                <button type="button" class="btn default" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page-bar">
                    <ul class="page-breadcrumb">
                        <li>
                            <i class="fa fa-home"></i><a href="index.html">Home</a> <i class="fa fa-angle-right">
                            </i>
                        </li>
                        <li><a href="#">Master Data</a> <i class="fa fa-angle-right"></i></li>
                        <li><a href="#">Map Role/Menu</a> </li>
                    </ul>
                    <div class="page-toolbar hide">
                        <div id="dashboard-report-range" class="pull-right btn btn-fit-height">
                            <a href="#HelpModal" data-toggle="modal" class="tooltips btn btn-xs btn-primary" data-placement="left" data-original-title="Click to see help"><i class="fa fa-question-circle"></i> Help</a>
                        </div>
                    </div>
                </div>
                <!-- END PAGE HEADER-->
                <!-- BEGIN PAGE CONTENT-->
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet box blue-hoki" id="form_wizard_1">
                            <div class="portlet-title">
                                <div class="caption">
                                    <i class="fa fa-users"></i>&nbsp;Map Role/Menu - <span class="step-title">
                                        Step 1 of 2
                                    </span>
                                </div>

                            </div>
                            <div class="portlet-body form">
                                <form action="#" class="form-horizontal" id="submit_form" method="POST">
                                    <div class="form-wizard">
                                        <div class="form-body">
                                            <ul class="nav nav-pills nav-justified steps">
                                                <li>
                                                    <a href="#tab1" data-toggle="tab" class="step">
                                                        <span class="number">1 </span><span class="desc"><i class="fa fa-check"></i>Role Master</span>
                                                    </a>
                                                </li>

                                                <li>
                                                    <a href="#tab2" data-toggle="tab" class="step active">
                                                        <span class="number">2 </span>
                                                        <span class="desc"><i class="fa fa-check"></i>Map Role with Menu </span>
                                                    </a>
                                                </li>

                                            </ul>
                                            <div id="bar" class="progress progress-striped" role="progressbar">
                                                <div class="progress-bar progress-bar-success">
                                                </div>
                                            </div>
                                            <div class="tab-content">
                                                <div class="alert alert-success" style='display: none;'>
                                                    <span id="spansuccess1"> </span>
                                                </div>
                                                <div class="alert alert-danger" style='display: none; '>
                                                    <span id="spandanger"> </span>
                                                </div>
                                                <div class="tab-pane active" id="tab1">


                                                    <div class="form-group">
                                                        <label class="control-label col-md-2">
                                                            Role Name <span class="required">
                                                                *
                                                            </span>
                                                        </label>
                                                        <div class="col-md-4">

                                                            <input type="text" class="form-control" id="txtRoleName" name="txtRoleName" autocomplete="off" onkeyup="replaceQuoutesFromString(this)" />
                                                        </div>
                                                        <label class="control-label col-md-2">
                                                            IsActive


                                                        </label>
                                                        <div class="col-md-3">
                                                            <input type="checkbox" name="checkboxcustomeractive" id="checkboxcustomeractive" class="make-switch" checked data-on-color="success" data-on-text=" &nbsp;Active&nbsp;" data-off-text="&nbsp;InActive&nbsp;" data-off-color="warning">

                                                        </div>
                                                        <div class="col-md-1">
                                                            <button type="button" class="btn btn-primary" id="add_or" onclick="InsUpdRoleMaster()">Add</button>
                                                        </div>
                                                    </div>
                                                    <input type="hidden" id="hdnRoleID" value="0" />
                                                    <div class="table-scrollable display-none" id="wrap_scroller">
                                                        <table class=" table table-striped table-bordered table-hover" width="100%" id="tblRoleMaster"></table>
                                                    </div>
                                                </div>

                                                <div class="tab-pane" id="tab2">
                                                    <div class="form-group">
                                                        <label class="control-label col-md-2">
                                                            Role <span class="required">
                                                                *
                                                            </span>
                                                        </label>
                                                        <div class="col-md-3">
                                                            <select id="ddlrole1" name="ddlrole1" class="form-control" onchange="fnfetchMenuswithRole()"></select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <label class="control-label  col-lg-2">Menu</label>
                                                                <div class="col-lg-10">
                                                                    <div class="scroller" style="height: 600px;" data-always-visible="1" data-rail-visible="0">

                                                                        <div id="div_menus" class="tree-demo jstree jstree-2 jstree-default jstree-checkbox-selection">
                                                                        </div>


                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-actions">
                                            <div class="row">
                                                <div class="col-md-offset-5 col-md-9">
                                                    <a href="javascript:;" class="btn default button-previous">
                                                        <i class="m-icon-swapleft">
                                                        </i>Back
                                                    </a><a href="javascript:;" class="btn btn-success button-next">
                                                        Save and Continue <i class="m-icon-swapright m-icon-white">
                                                        </i>
                                                    </a><a href="javascript:;" class="btn green button-submit">
                                                        Submit

                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>


                    </div>
                </div>
                <!-- END PAGE CONTENT-->
            </div>
        </div>
    </div>
    <div class="page-footer">
        <div class="page-footer-inner">
            2016 &copy; <a href="http://www.agileapt.com" target="_blank">AgileApt Solutions Pvt. Ltd.</a>
        </div>
        <div class="scroll-to-top">
            <i class="icon-arrow-up"></i>
        </div>
    </div>

    <script>
        jQuery(document).ready(function () {
            callPagejs('RegisterRoleMenuUser.js');
            Pageloaded()
            setInterval(function () { Pageloaded() }, 15000);
            if (sessionStorage.getItem('UserID') == null || sessionStorage.getItem('UserID') == "") {
                window.location = sessionStorage.getItem('MainUrl');
            }
            else {
                if (sessionStorage.getItem("UserType") == "E") {
                    $('.page-container').show();
                }
                else {
                    bootbox.alert("You are not Authorize to view this page", function () {
                        parent.history.back();
                        return false;
                    });
                }
            }


            Metronic.init();
            Layout.init();
            FormWizard.init();
            ComponentsPickers.init();
            setCommonData();

            fetchMenuItemsFromSession(19, 38);

            fetchRoleMaster();
            fetchAllRoleMaster();
            fetchRegisterUser();
        });

    </script>
</body>

</html>
